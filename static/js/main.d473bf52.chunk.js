(this["webpackJsonpterm-drip"]=this["webpackJsonpterm-drip"]||[]).push([[0],{121:function(e,t,n){e.exports=n(350)},126:function(e,t,n){},340:function(e,t,n){},341:function(e,t,n){},342:function(e,t,n){},343:function(e,t,n){},344:function(e,t,n){},347:function(e,t,n){},348:function(e,t,n){},349:function(e,t,n){},350:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(117),l=n.n(o),c=(n(126),n(30)),u=n(31),i=n(33),m=n(32),s=n(21),h=n(4),p=n(120),d=n(10),b=n(11),f=n(9),g=n(1),E=n.n(g),v=n(118),y=function(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),o=n[0],l=n[1],c=e.name,u=e.label,i=e.value,m=e.handleChange,s=function(){l(!o)},h=E()({default:{color:{minWidth:"120px",height:"14px",borderRadius:"2px",background:"".concat(i)},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"color-input"},r.a.createElement("div",{style:h.swatch,onClick:s},u,r.a.createElement("div",{style:h.color})),o?r.a.createElement("div",{style:h.popover},r.a.createElement("div",{style:h.cover,onClick:s}),r.a.createElement(v.SketchPicker,{color:i,onChange:function(e){return m(e,c)}})):null),r.a.createElement("br",null))},k=n(75),C=n.n(k),x=["Black:","Red:","Green:","Yellow:","Blue:","Magenta:","Cyan:","White:","Bright-Black:","Bright-Red:","Bright-Green:","Bright-Yellow:","Bright-Blue:","Bright-Magenta:","Bright-Cyan:","Bright-White:","Background:","Foreground:"],w=function(e,t){return function(e){var t=new Blob([e],{type:"text/plain"});return URL.createObjectURL(t)}(function(e,t){var n=C.a.json.import(JSON.stringify(e));return C.a[t].export(n)}(e,t))},j=function(e){var t={};return e.forEach((function(e){return t[e.color_type]=e.color})),t},O=(n(340),function(e){var t=e.colors,n=e.handleChange;return r.a.createElement("div",null,r.a.createElement("h1",null,"Terminal Color Scheme"),r.a.createElement("div",{id:"terminal-container"},Object.keys(t).map((function(e,a){return r.a.createElement(y,{key:e,name:e,label:x[a],handleChange:n,value:t[e]})}))))}),S=function(e){var t=e.name,n=e.label,a=e.value,o=e.handleCheckbox;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:t},n),r.a.createElement("input",{type:"checkbox",name:t,onChange:o,checked:a}),r.a.createElement("br",null))},I=function(e){var t=e.name,n=e.label,a=e.promptItems,o=e.checkboxValue,l=e.handlePromptInputs,c=e.handleCheckbox,u=a.find((function(e){return e.type===t}));return r.a.createElement("div",null,r.a.createElement(S,{name:t,label:n,value:o,handleCheckbox:c,handlePromptInputs:l}),o?r.a.createElement("div",null,r.a.createElement(y,{name:"".concat(t," foreground"),label:"Foreground Color: ",value:u.foreground,handleChange:l}),r.a.createElement(y,{name:"".concat(t," background"),label:"Background Color: ",value:u.background,handleChange:l})):null)},P=(n(341),function(e){var t=e.handleCheckbox,n=e.handlePromptInputs,a=e.checkboxes,o=e.promptItems;return r.a.createElement("div",null,r.a.createElement("h1",null,"Prompt Options"),r.a.createElement("div",{id:"prompt-options"},r.a.createElement(I,{name:"username",label:"Username ",promptItems:o,handleCheckbox:t,checkboxValue:a.username,handlePromptInputs:n}),r.a.createElement(I,{name:"hostname",label:"Hostname ",promptItems:o,handleCheckbox:t,checkboxValue:a.hostname,handlePromptInputs:n}),r.a.createElement(I,{name:"workingDirectory",label:"Working Directory ",promptItems:o,handleCheckbox:t,checkboxValue:a.workingDirectory,handlePromptInputs:n}),r.a.createElement(I,{name:"date",label:"mm/dd/yy ",promptItems:o,handleCheckbox:t,checkboxValue:a.date,handlePromptInputs:n}),r.a.createElement(I,{name:"dayDD",label:"day and dd ",promptItems:o,handleCheckbox:t,checkboxValue:a.dayDD,handlePromptInputs:n}),r.a.createElement(I,{name:"time",label:"12-hour",promptItems:o,handleCheckbox:t,checkboxValue:a.time,handlePromptInputs:n}),r.a.createElement(I,{name:"militaryTime",label:"24-hour ",promptItems:o,handleCheckbox:t,checkboxValue:a.militaryTime,handlePromptInputs:n})))}),D=(n(342),"https://terminal-drip.herokuapp.com/"),T="".concat(D,"/users/"),B="".concat(D,"/login/"),F="".concat(D,"/themes/"),U={"Content-Type":"application/json",Accepts:"application/json"},N={"Content-Type":"application/json",Accepts:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},A=function(e){if(!e.ok)throw new Error(e.statusText);return e.json()},L=function(e){return console.log("%c".concat(e),"color: red;")},R=function(e){return fetch(F+e).then(A).catch(L)},_=function(e){var t="";return e.forEach((function(e){"username"===e.type?t+=V(e,"%n"):"hostname"===e.type?t+=V(e,"%m"):"workingDirectory"===e.type?t+=V(e,"%d"):"date"===e.type?t+=V(e,"%W"):"dayDD"===e.type?t+=V(e,"%w"):"militaryTime"===e.type?t+=V(e,"%T"):"time"===e.type&&(t+=V(e,"%t"))})),'PROMPT="'.concat(t,'"')},V=function(e,t){var n="".concat(t);return e.foreground&&(n="%F{".concat(e.foreground,"}").concat(n,"%f")),e.background&&(n="%K{".concat(e.background,"}").concat(n,"%k")),"".concat(n," ")},M=function(e,t){return e.some((function(e){return e.type===t}))?e.filter((function(e){return e.type!==t})):(e.push({type:t}),e)},W=function(e){var t=[];return e.forEach((function(e){var n=e.colors.find((function(e){return"background"===e.color_type})),a=e.colors.find((function(e){return"foreground"===e.color_type}));t.push({type:e.type,background:n?n.color:null,foreground:a?a.color:null})})),t},J=function(e){var t={};return e.forEach((function(e){return t[e.type]=!0})),t},z=function(e,t){var n=e.name.split(" "),a=Object(f.a)(n,2),r=a[0],o=a[1],l=t.findIndex((function(e){return e.type===r}));return t[l]=Object(b.a)(Object(b.a)({},t[l]),{},Object(d.a)({},o,e.value)),t},G=function(e){var t=function(e){var t=[];return e.forEach((function(e){"username"===e.type?t.push({style:{color:e.foreground,backgroundColor:e.background},text:"Username "}):"hostname"===e.type?t.push({style:{color:e.foreground,backgroundColor:e.background},text:"host "}):"workingDirectory"===e.type?t.push({style:{color:e.foreground,backgroundColor:e.background},text:"/Users/Name/Documents "}):"date"===e.type?t.push({style:{color:e.foreground,backgroundColor:e.background},text:"06/30/20 "}):"dayDD"===e.type?t.push({style:{color:e.foreground,backgroundColor:e.background},text:"Fri 13 "}):"militaryTime"===e.type?t.push({style:{color:e.foreground,backgroundColor:e.background},text:"20:39 "}):"time"===e.type&&t.push({style:{color:e.foreground,backgroundColor:e.background},text:"06:20PM "})})),t}(e.promptItems);return r.a.createElement("div",{style:{color:e.colors.foreground}},t.map((function(e,t){return r.a.createElement("span",{key:t,style:e.style},e.text)})),r.a.createElement("span",null,"_"))},H=function(e){return r.a.createElement("span",{className:"color",style:{backgroundColor:e.color}},"\xa0")},Y=(n(343),function(e){var t=e.colors,n=e.promptItems;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"preview",style:{backgroundColor:t.background}},r.a.createElement("div",{id:"tool-bar"},r.a.createElement("span",null)),r.a.createElement("div",{className:"color-container"},Object.keys(t).map((function(e,n){return Number(e)+1?r.a.createElement(H,{key:n,color:t[e]}):null}))),r.a.createElement(G,{colors:t,promptItems:n})))}),K=function(e){var t=e.value,n=e.handleFileSelectChange;return r.a.createElement("select",{name:"filetype",id:"file-select",value:t,onChange:n},r.a.createElement("option",{value:"defualt"},"select a terminal format"),r.a.createElement("option",{value:"iterm-itermcolors"},"iterm"),r.a.createElement("option",{value:"guake-sh"},"guake"),r.a.createElement("option",{value:"sublime-tmTheme"},"sublime/textmate"),r.a.createElement("option",{value:"xresources-xresources"},"xresources"),r.a.createElement("option",{value:"json-json"},"json"),r.a.createElement("option",{value:"text-txt"},"text"))},Z=function(e){var t=e.fileName,n=e.fileURL,o=e.colors,l=e.promptCode,c=e.promptItems,u=e.handleInputChange,i=e.handleSubmit,m=e.handleFileSelectChange,s=e.fileSelect,h=s?s.split("-")[1]:"",p=Object(a.useState)(""),d=Object(f.a)(p,2),b=d[0],g=d[1],E=Object(a.useState)(""),v=Object(f.a)(E,2),y=v[0],k=v[1];return r.a.createElement("div",{id:"preview-container"},r.a.createElement("div",{id:"save-theme"},b?r.a.createElement("span",{style:{color:"red"}},b):null,y?r.a.createElement("span",{style:{color:"blue"}},y):null,r.a.createElement("input",{type:"text",name:"fileName",value:t,placeholder:"Name this theme",onChange:u}),r.a.createElement("button",{onClick:function(){(function(e,t,n){console.log(localStorage.getItem("token")),fetch(F,{method:"POST",headers:N,body:JSON.stringify({theme:{name:e,terminal_colorscheme:t,prompt:n}})}).then(A).catch(L)})(t,o,c).then((function(e){g(""),k("save successful")})).catch((function(e){"401"===e.message?g("login to save a theme"):"406"===e.message&&g("invalid name"),k("")}))}},"Save Theme")),r.a.createElement("br",null),r.a.createElement(Y,{colors:o,promptItems:c}),r.a.createElement("div",{id:"download"},r.a.createElement("label",{htmlFor:"prompt"},"Add this to your ZSH file: "),r.a.createElement("input",{type:"text",name:"prompt",readOnly:!0,value:l}),r.a.createElement("br",null),r.a.createElement(K,{value:s,handleFileSelectChange:m}),r.a.createElement("button",{onClick:i},"Compile Theme"),r.a.createElement("br",null),n?r.a.createElement("a",{href:n,download:"".concat(t,".").concat(h)},"Download"):null))},$=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={renderThemeInputs:!0,checkboxes:{username:!1,date:!1,time:!1},promptItems:[],colors:{background:"#272822",foreground:"#F1EBEB",0:"#48483E",1:"#DC2566",2:"#8FC029",3:"#D4C96E",4:"#55BCCE",5:"#9358FE",6:"#56B7A5",7:"#ACADA1",8:"#76715E",9:"#FA2772",10:"#A7E22E",11:"#E7DB75",12:"#66D9EE",13:"#AE82FF",14:"#66EFD5",15:"#CFD0C2"}},e.setTheme=function(t){R(t).then((function(t){console.log("theme object from database: ",t),t.terminal_colorscheme.colors.forEach((function(t){return e.setState({colors:Object(b.a)(Object(b.a)({},e.state.colors),{},Object(d.a)({},t.color_type,t.color))})})),e.setState({promptItems:W(t.prompt_items),checkboxes:J(t.prompt_items)})}))},e.handleInputChange=function(t){var n=t.target;e.setState(Object(d.a)({},n.name,n.value))},e.handleColorChange=function(t,n){e.setState({colors:Object(b.a)(Object(b.a)({},e.state.colors),{},Object(d.a)({},n,t.hex))})},e.handleCheckbox=function(t){var n=t.target,a=Object(b.a)({},e.state.checkboxes);e.setState({checkboxes:Object(b.a)(Object(b.a)({},a),{},Object(d.a)({},n.name,!a[n.name]))}),e.handlePromptItems(n)},e.handlePromptItems=function(t){var n=M(e.state.promptItems,t.name);e.setState({promptItems:n})},e.handlePromptInputs=function(t,n){var a=z({name:n,value:t.hex},Object(p.a)(e.state.promptItems));e.setState({promptItems:a})},e.handleSubmit=function(t){if(t.preventDefault(),e.state.fileSelect){var n=e.state.fileSelect.split("-")[0],a=w(e.state.colors,n);e.setState({fileURL:a})}},e.handleBoolean=function(t){var n=t.target;e.setState(Object(d.a)({},n.name,!e.state[n.name]))},e.handleFileSelectChange=function(t){var n=t.target.value;console.log("value: ",n),console.log("entire event",t),e.setState({fileSelect:n})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e&&this.setTheme(e)}},{key:"render",value:function(){var e=this.state,t=e.colors,n=e.fileURL,a=e.fileName,o=e.checkboxes,l=e.promptItems,c=e.renderThemeInputs,u=e.fileSelect;return r.a.createElement("div",{id:"build-container"},r.a.createElement("div",{id:"tools"},c?r.a.createElement(O,{colors:t,fileURL:n,fileName:a,handleChange:this.handleColorChange}):r.a.createElement(P,{checkboxes:o,promptItems:l,handleCheckbox:this.handleCheckbox,handlePromptInputs:this.handlePromptInputs}),r.a.createElement("button",{name:"renderThemeInputs",onClick:this.handleBoolean},c?"Show Prompt Tools":"Show Terminal Tools")),r.a.createElement("div",{id:"preview"},r.a.createElement(Z,{fileName:a,fileURL:n,fileSelect:u,colors:t,promptItems:l,promptCode:_(l),handleInputChange:this.handleInputChange,handleSubmit:this.handleSubmit,handleFileSelectChange:this.handleFileSelectChange})))}}]),n}(r.a.Component),q=(n(344),function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={search:"",themes:[]},e.handleChange=function(t){var n=t.target;e.setState(Object(d.a)({},n.name,n.value))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch(F).then(A).catch(L).then((function(t){e.setState({themes:t})}))}},{key:"render",value:function(){var e=this,t=this.state.themes.filter((function(t){return t.theme.name.includes(e.state.search)}));return r.a.createElement("div",{id:"browse-container"},r.a.createElement("div",{id:"filter-options"},r.a.createElement("input",{name:"search",value:this.state.search,placeholder:"Search Themes",onChange:this.handleChange})),r.a.createElement("div",{id:"browse"},t.map((function(e){return r.a.createElement("div",{key:e.theme.id,id:"preview-container"},r.a.createElement(s.b,{to:"/build/".concat(e.theme.id)},r.a.createElement("h1",null,e.theme.name)),r.a.createElement(Y,{colors:j(e.terminal_colorscheme.colors),promptItems:W(e.prompt_items)}))}))))}}]),n}(r.a.Component)),Q=function(e){var t=e.username,n=e.password,a=e.handleInputChange,o=e.handleLogin,l=e.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Login In"),l?r.a.createElement("p",{style:{color:"red"}},l):null,r.a.createElement("form",null,r.a.createElement("input",{type:"text",name:"username",value:t||"",placeholder:"Username",onChange:a}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",value:n||"",placeholder:"Password",onChange:a}),r.a.createElement("br",null),r.a.createElement("button",{onClick:o},"Login")))},X=(n(347),function(e){var t=e.newUsername,n=e.email,a=e.newPassword,o=e.error,l=e.handleInputChange,c=e.handleSignUp;return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),o?r.a.createElement("p",{style:{color:"red"}},o):null,r.a.createElement("form",null,r.a.createElement("input",{type:"text",name:"newUsername",value:t,placeholder:"Username",onChange:l}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"email",value:n,placeholder:"Email",onChange:l}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"newPassword",value:a,placeholder:"Password",onChange:l}),r.a.createElement("br",null),r.a.createElement("button",{onClick:c},"Sign Up")))}),ee=function(){return r.a.createElement("div",{id:"information"},r.a.createElement("p",null,"Information about the site"))},te=function(){var e=function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],r=t[1];return[n,function(e){return r(Object(b.a)(Object(b.a)({},n),{},Object(d.a)({},e.currentTarget.name,e.currentTarget.value)))}]}(),t=Object(f.a)(e,2),n=t[0],o=t[1],l=Object(h.f)(),c=Object(a.useState)(""),u=Object(f.a)(c,2),i=u[0],m=u[1],s=Object(a.useState)(""),p=Object(f.a)(s,2),g=p[0],E=p[1];return r.a.createElement("div",{id:"welcome-container"},r.a.createElement(ee,null),r.a.createElement("div",{id:"login"},r.a.createElement(Q,{username:n.username,password:n.password,error:i,handleInputChange:o,handleLogin:function(e){var t,a;e.preventDefault(),(t=n.username,a=n.password,fetch(B,{method:"POST",headers:U,body:JSON.stringify({user:{username:t,password:a}})}).then(A)).then((function(e){localStorage.setItem("token",e.jwt),l.push("/build")})).catch((function(e){console.log(e),m("username or password is incorrect")}))}}),r.a.createElement(X,{newUsername:n.newUsername,newPassword:n.newPassword,email:n.email,error:g,handleInputChange:o,handleSignUp:function(e){var t,a,r;e.preventDefault(),(t=n.newUsername,a=n.newPassword,r=n.email,fetch(T,{method:"POST",headers:U,body:JSON.stringify({user:{username:t,password:a,email:r}})}).then(A)).then((function(e){localStorage.setItem("token",e.jwt),l.push("/build")})).catch((function(e){console.log(e),E("invalid signup")}))}})))},ne=(n(348),function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],o=t[1];Object(a.useEffect)((function(){o(localStorage.getItem("token"))}));return r.a.createElement("div",{id:"nav-bar"},r.a.createElement("h1",null,"Terminal Drip"),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/build"},"Build")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/browse"},"Browse")),n?r.a.createElement(s.b,{to:"/"},r.a.createElement("li",{onClick:function(){localStorage.clear(),o("")}},"Log Out")):r.a.createElement("li",null,r.a.createElement(s.b,{to:"/"},"Sign Up")))))}),ae=(n(349),function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(s.a,{basename:"/"},r.a.createElement(ne,null),r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:te}),r.a.createElement(h.a,{path:"/browse",component:q}),r.a.createElement(h.a,{path:"/build/:id",component:$}),r.a.createElement(h.a,{path:"/build",component:$}),r.a.createElement(h.a,{path:"*",component:te})))}}]),n}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[121,1,2]]]);
//# sourceMappingURL=main.d473bf52.chunk.js.map